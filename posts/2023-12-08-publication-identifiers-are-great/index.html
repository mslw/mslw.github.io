<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<meta name=theme-color content="#494f5c">
<meta name=msapplication-TileColor content="#494f5c">
<meta itemprop=name content="Publication identifiers are great!">
<meta itemprop=description content="Recently, I needed to generate a consistently formatted publication list from a rather unstructured input. The idea was to take the growing list of publications from the consortium in which I am employed, and create a script able to regenerate and restructure it with as little manual labour as possible, while producing metadata reusable in other contexts. It took me on a deeper than intended delve into identifiers, APIs, and regular expressions, but what came out of it was pretty satisfying."><meta itemprop=datePublished content="2023-12-08T20:15:00+01:00">
<meta itemprop=dateModified content="2023-12-08T20:15:00+01:00">
<meta itemprop=wordCount content="2278">
<meta itemprop=keywords content="python,,software,,metadata,"><meta property="og:title" content="Publication identifiers are great!">
<meta property="og:description" content="Recently, I needed to generate a consistently formatted publication list from a rather unstructured input. The idea was to take the growing list of publications from the consortium in which I am employed, and create a script able to regenerate and restructure it with as little manual labour as possible, while producing metadata reusable in other contexts. It took me on a deeper than intended delve into identifiers, APIs, and regular expressions, but what came out of it was pretty satisfying.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://mslw.github.io/posts/2023-12-08-publication-identifiers-are-great/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2023-12-08T20:15:00+01:00">
<meta property="article:modified_time" content="2023-12-08T20:15:00+01:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Publication identifiers are great!">
<meta name=twitter:description content="Recently, I needed to generate a consistently formatted publication list from a rather unstructured input. The idea was to take the growing list of publications from the consortium in which I am employed, and create a script able to regenerate and restructure it with as little manual labour as possible, while producing metadata reusable in other contexts. It took me on a deeper than intended delve into identifiers, APIs, and regular expressions, but what came out of it was pretty satisfying.">
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color>
<link rel="shortcut icon" href=/favicon.ico>
<title>Publication identifiers are great!</title><link rel=stylesheet href=https://mslw.github.io/css/style.min.037b6ee8f8c1baab6a3d0a9da11c3ff18a7552471f16c59fd98538d5ce99208b.css integrity="sha256-A3tu6PjBuqtqPQqdoRw/8Yp1UkcfFsWf2YU41c6ZIIs=" crossorigin=anonymous>
<link rel=stylesheet href=https://mslw.github.io/fontawesome/css/all.css>
<link rel=stylesheet href=https://mslw.github.io/academicons/css/academicons.css>
</head><body id=page>
<header id=site-header class="animated slideInUp">
<div class="hdr-wrapper section-inner">
<div class=hdr-left>
<div class=site-branding>
<a href=https://mslw.github.io/>Michał Szczepanik</a>
</div><nav class="site-nav hide-in-mobile">
<a href=https://mslw.github.io/posts/>Posts</a>
<a href=https://mslw.github.io/about>About</a>
</nav></div><div class="hdr-right hdr-icons">
<span class="hdr-social hide-in-mobile"><a href=https://github.com/mslw target=_blank rel="noopener me" title=Github><i class="fab fa-github"></i></a><a href=https://orcid.org/0000-0002-4028-2087 target=_blank rel="noopener me" title=Orcid><i class="fab fa-orcid"></i></a><a href=https://masto.ai/@doktorpanik target=_blank rel="noopener me" title=Mastodon><i class="fab fa-mastodon"></i></a></span><button id=menu-btn class=hdr-btn title=Menu><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button>
</div></div></header><div id=mobile-menu class="animated fast">
<ul>
<li><a href=https://mslw.github.io/posts/>Posts</a></li><li><a href=https://mslw.github.io/about>About</a></li></ul></div><main class="site-main section-inner animated fadeIn faster">
<article class=thin>
<header class=post-header>
<div class=post-meta><span>Dec 8, 2023</span></div><h1>Publication identifiers are great!</h1></header><div class=content>
<p>
Recently, I needed to generate a consistently formatted publication list from a rather unstructured input.
The idea was to take the growing list of publications from the consortium in which I am employed, and create a script able to regenerate and restructure it with as little manual labour as possible, while producing metadata reusable in other contexts.
It took me on a deeper than intended delve into identifiers, APIs, and regular expressions, but what came out of it was pretty satisfying.</p><div id=outline-container-headline-1 class=outline-2>
<h2 id=headline-1>
The good
</h2><div id=outline-text-headline-1 class=outline-text-2>
<div id=outline-container-headline-2 class=outline-3>
<h3 id=headline-2>
There are identifiers, and they are great
</h3><div id=outline-text-headline-2 class=outline-text-3>
<p>
By far the most popular identifier in the world of scientific publishing is the Digital Object Identifier, or DOI. Pretty much every paper available online has one. It has a form of <code class=verbatim>10.nnnnnn/example</code>, and can be prefixed with <a href=https://doi.org/,>https://doi.org/,</a> forming a link that resolves to the article URL, whatever it may be. <sup class=footnote-reference><a id=footnote-reference-1 href=#footnote-1>1</a></sup></p><p>
There are other identifiers, specific to particular databases. The two most relevant for my field of work are PubMed and PubMed Central IDs. They are recognizable, also have their corresponding URL format, and can be used as an alternative to the DOI when pointing to a specific article.</p><p>
For example, either of the following – PMID: 29732258, PMCID: PMC5851565, DOI: 10.1002/aps3.1027 – uniquely refers to this article:</p><blockquote>
<p>Nelson, G., Sweeney, P., & Gilbert, E. (2018). Use of globally unique identifiers (GUIDs) to link herbarium specimen records to physical specimens. Applications in plant sciences, 6(2), e1027</p></blockquote><p>
For many purposes, providing just one of the identifiers is both easier and more unambiguous than providing the citation alone.</p></div></div><div id=outline-container-headline-3 class=outline-3>
<h3 id=headline-3>
There are APIs, and they are public
</h3><div id=outline-text-headline-3 class=outline-text-3>
<p>
Identifying and linking to content is just part of what these identifiers can do. There are APIs, which can translate these identifiers into structured publication metadata.</p><p>
Let's start with DOI. The DOIs are assigned by <a href=https://www.doi.org/the-community/existing-registration-agencies/>registration agencies</a>, two of which: Datacite and Crossref are the most relevant for my purposes (related to publications and data repositories)<sup class=footnote-reference><a id=footnote-reference-2 href=#footnote-2>2</a></sup>. While both offer their own APIs (<a href=https://www.crossref.org/documentation/retrieve-metadata/>Crossref docs</a>, <a href=https://support.datacite.org/docs/api>DataCite docs</a>), there is one more thing, and it is beautiful: crosscite <a href=https://citation.crosscite.org/docs.html>content negotiation</a>.</p><p>
Just as "normal" requests to doi.org redirect to a publisher's landing page, requests with a specific header redirect to a respective API (in my example, either Crossref or DataCite), which then responds with publication metadata in one of several supported formats.</p><p>
In practice, it's very easy. Here I'm using <code class=verbatim>curl</code> to make the request, and requesting RIS as the output format:</p><div class="src src-text">
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>❱ curl -L -H &#34;Accept: application/x-research-info-systems&#34; https://doi.org/10.1002/aps3.1027
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>TY  - JOUR
</span></span><span class=line><span class=cl>DO  - 10.1002/aps3.1027
</span></span><span class=line><span class=cl>UR  - http://dx.doi.org/10.1002/aps3.1027
</span></span><span class=line><span class=cl>TI  - Use of globally unique identifiers (&lt;scp&gt;GUID&lt;/scp&gt;s) to link herbarium specimen records to physical specimens
</span></span><span class=line><span class=cl>T2  - Applications in Plant Sciences
</span></span><span class=line><span class=cl>AU  - Nelson, Gil
</span></span><span class=line><span class=cl>AU  - Sweeney, Patrick
</span></span><span class=line><span class=cl>AU  - Gilbert, Edward
</span></span><span class=line><span class=cl>PY  - 2018
</span></span><span class=line><span class=cl>DA  - 2018/02
</span></span><span class=line><span class=cl>PB  - Wiley
</span></span><span class=line><span class=cl>IS  - 2
</span></span><span class=line><span class=cl>VL  - 6
</span></span><span class=line><span class=cl>SN  - 2168-0450
</span></span><span class=line><span class=cl>SN  - 2168-0450
</span></span><span class=line><span class=cl>ER  -</span></span></code></pre></div></div><p>
While RIS is simple enough to show in this blog post (and also quite useful for many applications), I would normally go for some json flavour – more on that later. For now let's just note that we can also ask for a formatted citation, picking one of many popular styles (line breaks added manually for readability):</p><div class="src src-text">
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>❱ curl -LH &#34;Accept: text/x-bibliography; style=apa&#34; https://doi.org/10.1002/aps3.1027
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Nelson, G., Sweeney, P., &amp; Gilbert, E. (2018). Use of globally unique
</span></span><span class=line><span class=cl>identifiers (&lt;scp&gt;GUID&lt;/scp&gt;s) to link herbarium specimen records to physical
</span></span><span class=line><span class=cl>specimens. Applications in Plant Sciences, 6(2). Portico.
</span></span><span class=line><span class=cl>https://doi.org/10.1002/aps3.1027</span></span></code></pre></div></div><p>
For Pubmed and PubMed Central, <a href=https://www.ncbi.nlm.nih.gov/pmc/tools/developers/>the NCBI provides APIs</a>, too, and the <a href=https://api.ncbi.nlm.nih.gov/lit/ctxp/>literature citation exporter</a> can do pretty much the same thing (only subset of lines shown - PubMed also adds its keywords, abstracts, several additional identifiers):</p><div class="src src-text">
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>❱ curl &#34;https://api.ncbi.nlm.nih.gov/lit/ctxp/v1/pubmed/?format=ris&amp;contenttype=html&amp;id=29732258&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>TY  - JOUR
</span></span><span class=line><span class=cl>DB  - PubMed
</span></span><span class=line><span class=cl>AU  - Nelson, Gil
</span></span><span class=line><span class=cl>AU  - Sweeney, Patrick
</span></span><span class=line><span class=cl>AU  - Gilbert, Edward
</span></span><span class=line><span class=cl>T1  - Use of globally unique identifiers (GUIDs) to link herbarium specimen records to physical specimens
</span></span><span class=line><span class=cl>UR  - https://pubmed.ncbi.nlm.nih.gov/29732258
</span></span><span class=line><span class=cl>DO  - 10.1002/aps3.1027
</span></span><span class=line><span class=cl>...</span></span></code></pre></div></div><p>
What is especially nice is that these APIs are public. Crossref and Pubmed (probably DataCite too) ask you to identify yourself by including an e-mail in the header or query (with Crossref that should land you in a <em>polite</em> pool), and they will probably block you for excessive requests, but there is no registration required.</p></div></div><div id=outline-container-headline-4 class=outline-3>
<h3 id=headline-4>
There are metadata standards
</h3><div id=outline-text-headline-4 class=outline-text-3>
<p>
While the identifiers can lead us to publication metadata, it is important that it is structured. Luckily, there are several nice standards. In the examples above I used RIS because it prints rather concisely. In practice, I relied on the much richer <a href=https://citationstyles.org/>Citation Style Language (CSL)</a> and its json representation (a.k.a. Citeproc json), which is supported both in content negotiation via doi.org and by PubMed literature citation exporter (see respective docs linked above for how to request it).</p><p>
With CSL, there is a <code class=verbatim>title</code> field, there is an <code class=verbatim>author</code> array (with at least <code class=verbatim>first</code> and <code class=verbatim>last</code> name for each author, and often an <code class=verbatim>ORCID</code>), there is <code class=verbatim>container-title</code>, there is <code class=verbatim>DOI</code>, and many more.</p><p>
The APIs seem to have their own flavours (or supersets) of the standard information. I did not dig deep to see how consistently these can be found, but the nice things I've seen include <code class=verbatim>license</code> (with its URL in case of CC) and even <code class=verbatim>is-preprint-of</code>, linking a bioRxiv preprint with its publication by means of a doi.</p></div></div><div id=outline-container-headline-5 class=outline-3>
<h3 id=headline-5>
Without identifiers, you can do a bibliographic query
</h3><div id=outline-text-headline-5 class=outline-text-3>
<p>
When there is no identifier to work with, just a free-form citation text, reliably splitting it into authors, title, journal, etc. could be a nightmare. Luckily, Crossref REST API offers a <code class=verbatim>query.bibliographic</code> parameter in its <a href=https://api.crossref.org/swagger-ui/index.html#/Works/get_works>works endpoint</a>. It can take a free-form citation and return structured metadata in crossref's format (which is close to CSL), as explained in this Crossref Labs post, <a href=https://www.crossref.org/labs/resolving-citations-we-dont-need-no-stinkin-parser/>Resolving Citations (we don’t need no stinkin’ parser)</a>.</p><p>
As free-form citations are, well, free-form, the results aren't guaranteed to be perfect – they are returned with scores and you are advised to compare the top two or three. I ended up having to create a simple heuristic that looked at publication type and favoured a journal article over a preprint or commentary (these can have very similar citations) when the top scores were close. Still, Crossref did a really good job at turning unstructured citations into structured metadata, complete with identifiers.</p><p>
There is also a "manual" version, <a href=https://apps.crossref.org/SimpleTextQuery>Simple Text Query</a>.</p></div></div><div id=outline-container-headline-6 class=outline-3>
<h3 id=headline-6>
Things are easy in Python
</h3><div id=outline-text-headline-6 class=outline-text-3>
<p>
Although there are API-specific libraries (e.g. <a href=https://pypi.org/project/habanero/>habanero</a> for
Crossref), the queries described above are so simple (URL
base, a few query parameters and maybe some headers), there is little
reason not to build the GET requests directly with <a href=https://pypi.org/project/requests/>requests</a>.</p><p>
Two general-purpose additions that may come useful are <a href=https://pypi.org/project/requests-cache/>requests-cache</a> and <a href=https://pypi.org/project/requests-ratelimiter>requests-ratelimiter</a>, providing drop-in replacements for caching and throttling requests, respectively. The former is particularly useful to speed up re-runs and avoid spamming the APIs when working on the code.</p><p>
For example, this is a basic doi.org query with content negotiation:</p><div class="src src-python">
<div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>  <span class=kn>from</span> <span class=nn>pprint</span> <span class=kn>import</span> <span class=n>pprint</span>
</span></span><span class=line><span class=cl>  <span class=kn>from</span> <span class=nn>requests_cache</span> <span class=kn>import</span> <span class=n>CachedSession</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>session</span> <span class=o>=</span> <span class=n>CachedSession</span><span class=p>(</span><span class=n>cache_name</span><span class=o>=</span><span class=s2>&#34;query_cache&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>doi</span> <span class=o>=</span> <span class=s2>&#34;10.1002/aps3.1027&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>r</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=n>url</span><span class=o>=</span><span class=sa>f</span><span class=s2>&#34;https://doi.org/</span><span class=si>{</span><span class=n>doi</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=n>headers</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;Accept&#34;</span><span class=p>:</span> <span class=s2>&#34;application/vnd.citationstyles.csl+json&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=n>r</span><span class=o>.</span><span class=n>ok</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=n>pprint</span><span class=p>(</span><span class=n>r</span><span class=o>.</span><span class=n>json</span><span class=p>())</span></span></span></code></pre></div></div><p>
Finally, if the output needs to be an html page, <a href=https://pypi.org/project/Jinja2/>Jinja</a> templates may seem complex at first but are rather intuitive and easy to build.</p></div></div></div></div><div id=outline-container-headline-7 class=outline-2>
<h2 id=headline-7>
The bad and the ugly
</h2><div id=outline-text-headline-7 class=outline-text-2>
<p>
The previous section described tools that are available for structured metadata. This section describes the challenges I faced in practice.</p><p>
Most of my input data was created for the purpose of administrative reporting, not (meta)data management. As such, it was composed of free-form citations (in a format that was similar, but not quite the same between entries, and very rarely included an identifier) accompanied by URLs of various kinds – hardly any of which were doi.org URLs.</p><div id=outline-container-headline-8 class=outline-3>
<h3 id=headline-8>
Parsing URL patterns to find DOI
</h3><div id=outline-text-headline-8 class=outline-text-3>
<p>
While I could find an odd DOI or PMID among citation texts, a bibliographic query seemed to be my best bet in most cases. However, it is not always unambiguous, so I looked more closely into the URLs.</p><p>
I am calling these "URLs of various kinds" because there were no set rules. Some linked to journal websites, some to PDFs, some to those fancy PDF readers on publisher websites. Taking our example publication, the following three URLs, differing only by the inclusion of the (e)pdf part, lead to publication website, publisher's interactive PDF reader, and a regular PDF respectively:</p><div class="src src-text">
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>  https://bsapubs.onlinelibrary.wiley.com/doi/10.1002/aps3.1027
</span></span><span class=line><span class=cl>  https://bsapubs.onlinelibrary.wiley.com/doi/epdf/10.1002/aps3.1027
</span></span><span class=line><span class=cl>  https://bsapubs.onlinelibrary.wiley.com/doi/pdf/10.1002/aps3.1027</span></span></code></pre></div></div><p>
Luckily, these URLs contain the DOI in a pretty obvious fashion that is easy to match.</p><p>
However, the patterns differ between the publishers. Consider, for example the following URL (latest <em>Imaging Neuroscience</em> editorial):</p><div class="src src-text">
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>https://direct.mit.edu/imag/article/doi/10.1162/imag_e_00007/116804/Imaging-Neuroscience-opening-editorial</span></span></code></pre></div></div><p>
Its corresponding DOI is <code class=verbatim>10.1162/imag_e_00007</code>, and it is followed by some kind of internal identifier, and a title slug. It may seem obvious following the previous example, but how do we know that <code class=verbatim>116804</code> is part of the URL but not part of the DOI? After all, the DOI specification allows including slashes in the suffix, and e.g. Oxford University Press does use them (e.g. <code class=verbatim>10.1093/brain/awac278</code> for the latest editorial in <em>Brain</em>).</p><p>
The DOI syntax is part of the ISO 26324 standard, and you can find all
details in the DOI handbook (<a href=https://doi.org/10.1000/182>https://doi.org/10.1000/182</a>). In the most
general terms, a DOI contains a prefix and a suffix. The prefix contains
only numeric values and full stops (one or more!), but the suffix has very little character restrictions.</p><p>
In the end, I came up with 13 fairly similar regular expressions adjusted to specific publishers, based on the URLs I found in my sample. They aren't perfect, but I wanted to be cautious and preferred to keep them potentially too narrow rather than too broad. This allowed me to find a DOI for about half of my input data - not bad!</p><p>
This is an example of what I came up with:</p><div class="src src-text">
<div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>biorxiv\.org/content/(10\.\d{4,6}/\d{4}\.\d{2}\.\d{2}\.\d{6})
</span></span><span class=line><span class=cl>onlinelibrary\.wiley\.com/doi(?:/e?pdf|/epub|/full)?/(10\.\d+/[a-z]+\.\d+)</span></span></code></pre></div></div><p>
On that note, thank you to bioRxiv for clearly explaining their doi patterns in <a href=https://www.biorxiv.org/content/about-biorxiv>their about page</a> (suffix, since Dec 2019, has date stamp followed by a six digit identifier).</p><p>
The PubMed and PubMed Central URLs are very transparent, and contain the (numeric) identifier.</p></div></div><div id=outline-container-headline-9 class=outline-3>
<h3 id=headline-9>
Finding no identifiers
</h3><div id=outline-text-headline-9 class=outline-text-3>
<p>
That being said, not all publishers use DOI for their content URLs, preferring to use their own identifiers. Hard to blame them, as the doi.org URLs are meant to work around that, but it made my task harder. Oxford University Press URLs use some internal format, and Elsevier has their own PII (Publication Item Identifier) used in ScienceDirect (there were a lot ScienceDirect URLs in my input data).</p><p>
Admittedly, Elsevier also provides an API, where you can <a href=https://dev.elsevier.com/sciencedirect.html#/Article_Retrieval>retrieve article metadata</a> or content by the PII, but unlike the others mentioned it is not public. Registration in Elsevier Developer portal is required to obtain an API key – fair enough, but given the ability to perform bibliographic search, I decided not to bother.</p></div></div><div id=outline-container-headline-10 class=outline-3>
<h3 id=headline-10>
The nitty-gritty
</h3><div id=outline-text-headline-10 class=outline-text-3>
<p>
Looking back, the most of my problems came down to dealing with unstructured input, and would disappear if including a DOI or PubMed ID was required for reportting. However, even in the domain of structured metadata there were some issues that required solving.</p><p>
Preprints are one example. While it has become customary to report them with things like bioRxiv in place of the journal title, Crossref reports them with the <code class=verbatim>container-title</code> field empty. Instead, to find "bioRxiv", <code class=verbatim>institution[0].name</code> needs to be looked up. For further practical info, <code class=verbatim>type</code> is set to "posted-content", and <code class=verbatim>subtype</code> to "preprint"; as a bonus, <code class=verbatim>relation.is-preprint-of</code> can be found for manuscripts which got published. It's a little thing, but an adds a conditional statement or two to the workflow.</p><p>
Inclusion of HTML tags in titles is another. I suppose it's journal specific, but some titles reported by Crossref's API contain markup like <code class=verbatim>&lt;i></code> or <code class=verbatim>&lt;sub></code> – also seen in our examples above. This means that the input needs to be de-htmlized (e.g. <code class=verbatim>html.fromstring(title).text_content()</code>, using <code class=verbatim>lxml</code> library) or the markup interpretation needs to be allowed (marked with <code class=verbatim>{ ... | safe }</code>) in Jinja.</p><p>
Crossref's native REST API response format is well documented and is
pretty similar to CSL, but there are some differences (e.g. title
being a single-element array). I did not find a way to request a
bibliographic query result as CSL, so even though it wouldn't be too
complicated to create a translator, I decided to just take the DOI
from the response and do another query via doi.org. And speaking of bibliographic queries, the heuristic I came up for picking the best queries (compare their scores, look up types) sounds simple, but was also a little bit involved.</p><p>
Finally, there was a fairly typical requirement to emphasize authors from our consortium in the generated document. This meant that using pre-formatted citations in a given style, or a citation formatter like citeproc, was not practical. Instead, I did a lookup in a set of (last) names, which involves the need to worry about alternate spellings.</p></div></div></div></div><div id=outline-container-headline-11 class=outline-2>
<h2 id=headline-11>
In the end
</h2><div id=outline-text-headline-11 class=outline-text-2>
<p>
This was quite a journey, but in the end it was possible to generate a uniformly presented publication list (in which all items include a doi.org URL) in a fully automated way. As a by-product of using only the metadata from API queries, it was possible to eliminate some typos. That list can be re-generated on demand, and new entries can be added simply by adding a DOI or PMID to an appropriate section of a text file.</p><p>
Code for the project can be found at <a href=https://github.com/sfb1451/publication-parser>https://github.com/sfb1451/publication-parser</a></p><p>
Identifiers are great, structured metadata is great, and we need more of them.</p></div></div><div class=footnotes>
<hr class=footnotes-separatator>
<div class=footnote-definitions>
<div class=footnote-definition>
<sup id=footnote-1><a href=#footnote-reference-1>1</a></sup>
<div class=footnote-body>
<p>Tal Yarkoni wrote a great post about the DOI and its kind-of <em>cultural</em> meaning in academia: <a href=https://www.talyarkoni.org/blog/2015/03/05/now-i-am-become-doi-destroyer-of-gates/>Now I am become DOI, destroyer of gatekeeping worlds</a>.</p></div></div><div class=footnote-definition>
<sup id=footnote-2><a href=#footnote-reference-2>2</a></sup>
<div class=footnote-body>
<p>For a distinction between Crossref and DataCite application domains, see <a href=https://support.datacite.org/docs/datacite-or-crossref>DataCite or Crossref</a> in DataCite documentation.</p></div></div></div></div></div><hr class=post-end>
<footer class=post-info>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-feather"><path d="M20.24 12.24a6 6 0 00-8.49-8.49L5 10.5V19h8.5z"/><line x1="16" y1="8" x2="2" y2="22"/><line x1="17.5" y1="15" x2="9" y2="15"/></svg>Michał Szczepanik</p><p>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://mslw.github.io/tags/python>python,</a></span><span class=tag><a href=https://mslw.github.io/tags/software>software,</a></span><span class=tag><a href=https://mslw.github.io/tags/metadata>metadata</a></span>
</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>2278 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2023-12-08 19:15 +0000</p></footer></article><div class="post-nav thin">
<a class=prev-post href=https://mslw.github.io/posts/2023-03-26-exploring-film-simulations/>
<span class=post-nav-label>Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></span><br><span>Exploring film simulations</span>
</a>
</div><div id=comments class=thin>
</div></main><footer id=site-footer class="section-inner thin animated fadeIn faster">
<p>&copy; 2023 <a href=https://mslw.github.io/>Michał Szczepanik</a> &#183; <a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></p><p>
Made with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> &#183; Theme <a href=https://github.com/Track3/hermit target=_blank rel=noopener>Hermit</a> &#183; <a href=https://mslw.github.io/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a>
</p></footer><script src=https://mslw.github.io/js/bundle.min.8256b8724b9578bbdf6d6f04c894255bc760e78e8a2d60ec0a91ea993acd3b77.js integrity="sha256-gla4ckuVeLvfbW8EyJQlW8dg546KLWDsCpHqmTrNO3c=" crossorigin=anonymous></script>
</body></html>